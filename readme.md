# Курсовая работа по дисциплине "Базы данных"

Распознание кристаллических решеток.

## Структура проекта

### Директории

* data - cif/json файлы для загрузки в приложение
* db - модуль для базы данных
* src - файлы ресурсов для интерфейса
* ui - описания пользовательских интерфейсов на qt

### Скрипты

* main.py - запуск приложения с интерфейсом

## Требования

* python 3.10+
* requirements.txt
* MySQL 8.0+ Server (localhost:3306) + `pip install mysql-connector-python` + root password

## Дополнительно

Если понадобится:

* cursor.execute("\\! chcp 1251")
* `cif_filter *.cif --json-output > *.json`
* `for file in *.cif; do cif_filter "$file" --json-output | jq '.' > "${file%.cif}.json"; done`

## Задачи

- [x] ~~Сделать формат для сохранения json (не в одну строку)~~
- [ ] Скрипт cif->json
- [ ] Скрипт json->MySQL отдельный файл
- [ ] Подумать какие поля и как выводить в UI
- [ ] 3D-визуализация? (+ готовые инструменты)
- [ ] возможно авто-сортировка файлов по категориям


## Информация о VESTA:

#### 1) Поиск параметров элементарной ячейки

Программа считывает информацию для определения формы и размеров решетки
- Длины сторон (_cell_length_a, _cell_length_b, _cell_length_c)
- Углы между сторонами (_cell_angle_alpha, _cell_angle_beta, _cell_angle_gamma)

![img.png](img.png)

#### 2) Чтение пространственной группы

Программа считывает данные о пространственной группе. 
- Если есть строка _symmetry_space_group_name_H-M, то в виде например Fm-3m.
- Если нет предыдущей, то считывает строку с _space_group_IT_number, она содержит число (например в ней содержится число 255, это = Fm-3m)

#### 3) Считывание координат атомов

Программа считывает координаты атомов (или как пицца называет их ионами), они записываются как _atom_site_label (название атома), _atom_site_fract_x (координата x), _atom_site_fract_y (координата y), _atom_site_fract_z (координата z).

#### 4) Если задан параметр _atom_site_occupancy, он учитывается при визуализации, чтобы отобразить частичное заполнение узлов.

#### 5) Чтение симметрических операций

Симметрические операции (_symmetry_equiv_pos_as_xyz) определяют, как повторяются атомы в ячейке.

![img_1.png](img_1.png)

По вот этим данным мы строим вот эти 2 самых основных иона в решетке, это называется атомным узлом и этот узел, как поняла, будет дублироваться по всей решетке.
![img_2.png](img_2.png)

Вот тут по факту пространственная группа описывает только расположение атомов в веществе, а значит у пространственной группы будут одинаковые уравнения эквивалентности (которых дофига)
![img_3.png](img_3.png)

И он делает с каждым элементом вот эти вот преобразования, и по факту получаем решеточку
